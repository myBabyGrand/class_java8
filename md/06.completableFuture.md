# 섹션 5. CompletableFuture

## JAVA Concurrent Programming

### Concurrent 소프트웨어
 - 동시에 여러작업을 하는 S/W
### JAVA에서 지원하는 Concurrent programming
 - Multi-Processing (ProcessBuilder)
 - Multi-Thread
### JAVA Multi Thread Programming
 - Thread
```java
public static void main(String[] args) {
    HelloThread helloThread = new HelloThread();
    helloThread.start();
    System.out.println("hello : " + Thread.currentThread().getName());
}
static class HelloThread extends Thread {
    @Override
    public void run() {
        System.out.println("world : " + Thread.currentThread().getName());  
    }
}
```
 - Runnable
```JAVA
    Thread thread = new Thread(() -> System.out.println("world : " + Thread.currentThread().getName()));
    thread.start();
    System.out.println("hello : " + Thread.currentThread().getName()); 
```
### Thread의 주요기능
 - Sleep
 - interrupt : 다른 thread를 깨워 ```interruptedException``` 일으킴
 - join : 다른 thread가 끝날때 까지 기다림


## Executors
###  High-Level Concurrency Programming
 - Thread를 만들고, 관리하는 작업을 application에서 분리
 - executor가 위임받음
### Executors가 하는 일
 - 쓰레드 만들기: 애플리케이션이 사용할 쓰레드 풀을 만들어 관리한다.
 - 쓰레드 관리: 쓰레드 생명 주기를 관리한다.
 - 작업 처리 및 실행: 쓰레드로 실행할 작업을 제공할 수 있는 API를 제공한다.
### 주요 인터페이스
 - Executor: execute(Runnable)
 - ExecutorService: Executor 상속 받은 인터페이스로, Callable도 실행할 수 있으며, Executor를 종료 시키거나, 여러 Callable을 동시에 실행하는 등의 기능을 제공한다.
 - ScheduledExecutorService: ExecutorService를 상속 받은 인터페이스로 특정 시간 이후에 또는 주기적으로 작업을 실행할 수 있다.
### Fork/Join 
 - ExecutorService의 구현체로 손쉽게 멀티 프로세서를 활용할 수 있게끔 도와주는 framework

## Callable과 Future
### Callable
 - Runnable과 유사하지만 **작업의 결과(retrun값)**를 받을 수 있다.
### Future
 - 비동기적인 작업의 현재 상태를 조회하거나 결과를 가져올 수 있다
### get()
 - **blocking call**
 - 타임아웃(최대한으로 기다릴 시간)을 설정할 수 있다.
### isDone()
 - 작업 완료 상태 확인
 - 완료 했으면 true 아니면 false를 리턴
### cancel()
 - 작업취소하기
 - 취소했으면 true, 아니면 fasle
 - parameter로 true를 전달하면 현재 진행중이 thread를 interrupt, 그러지 않다면 현재 진행중인 작업이 끝날때 까지 기다림
### invokeAll()
 - 동시에 여러작업 실행
 - 가장 오래걸리는 작업시간이 최종 작업소요시간
### invokeAny()
 - 여러작업 중 응답이 하나라도 먼저 오면 끝냄
 - **blocking call**

## CompletableFuture